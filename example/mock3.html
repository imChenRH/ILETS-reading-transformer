<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IELTS Reading Mock Test</title>
    <style>
        :root {
            --line: #e5e7eb;
            --bg: #f6f7fb;
            --panel: #fff;
            --accent: #3b82f6;
            --muted: #6b7280;
            --shadow: 0 6px 20px rgba(0,0,0,.12);
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            background: var(--bg);
            height: 100vh;
            overflow: hidden;
        }
        .shell {
            display: flex;
            height: calc(100vh - 60px);
            width: 100%;
        }
        .pane {
            background: var(--panel);
            overflow: auto;
            padding: 20px;
        }
        #left {
            flex: 0 0 50%;
            min-width: 280px;
        }
        #right {
            flex: 1 1 auto;
            min-width: 320px;
            background: #fbfbff;
            border-left: 1px solid var(--line);
        }
        #divider {
            flex: 0 0 8px;
            background: linear-gradient(90deg, #e5e7eb, #d1d5db);
            cursor: ew-resize;
            position: relative;
            z-index: 5;
            user-select: none;
        }
        h2, h3, h4 {
            margin: 0 0 10px;
        }
        p {
            margin: 0 0 12px;
            line-height: 1.6;
        }
        .group {
            background: #fff;
            border: 1px solid var(--line);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 14px;
        }
        .timer-container {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #fff;
            border: 1px solid var(--line);
            border-radius: 10px;
            padding: 8px 12px;
            font-size: 16px;
            font-weight: bold;
            z-index: 1000;
        }
        .tab-container {
            display: flex;
            border-bottom: 1px solid var(--line);
            margin-bottom: 15px;
        }
        .tab {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }
        .tab.active {
            border-bottom: 2px solid var(--accent);
            color: var(--accent);
            font-weight: bold;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .dropzone {
            border: 2px dashed #cbd5e1;
            background: #f8fafc;
            border-radius: 10px;
            min-height: 40px;
            padding: 4px 8px;
            display: inline-flex;
            align-items: center;
            justify-content: space-between;
            gap: 8px;
            width: auto;
            min-width: 120px;
            max-width: 200px;
            vertical-align: middle;
            margin: 5px 0;
        }
        .droplabel {
            color: #64748b;
            font-size: 14px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .cardpool {
            background: #f1f5f9;
            border-radius: 10px;
            padding: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        .card {
            background: #fff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 8px 10px;
            display: inline-flex;
            gap: 8px;
            align-items: center;
            cursor: grab;
            box-shadow: 0 1px 0 rgba(0,0,0,.03);
            white-space: nowrap;
        }
        .card:active {
            cursor: grabbing;
        }
        .btn {
            padding: 8px 12px;
            border: 1px solid var(--line);
            border-radius: 10px;
            background: #fff;
            cursor: pointer;
            margin: 5px;
        }
        .btn-primary {
            background: var(--accent);
            color: #fff;
            border-color: #3b82f6;
        }
        .hl {
            background: #fff3a3;
            box-shadow: inset 0 -2px 0 rgba(0,0,0,.05);
            cursor: pointer;
        }
        .hl:hover {
            filter: brightness(0.98);
        }
        #selbar {
            position: absolute;
            display: none;
            z-index: 2000;
            background: #111;
            color: #fff;
            border-radius: 8px;
            padding: 6px;
            box-shadow: var(--shadow);
            font-size: 13px;
            gap: 6px;
            align-items: center;
        }
        #selbar button {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255,255,255,.25);
            padding: 4px 8px;
            border-radius: 6px;
            cursor: pointer;
        }
        #selbar button:hover {
            border-color: #fff;
        }
        .practice-nav {
            background: #fff;
            border-top: 2px solid var(--line);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            flex-wrap: wrap;
            position: fixed;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 4000;
            height: 60px;
            overflow-x: auto;
        }
        .practice-nav .q-item {
            padding: 6px 10px;
            border: 1px solid var(--line);
            border-radius: 6px;
            background: #fff;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            min-width: 36px;
            text-align: center;
        }
        .practice-nav .q-item:hover {
            background: #f1f5f9;
            border-color: var(--accent);
        }
        .practice-nav .q-item.answered {
            background: #e0e7ff;
            border-color: var(--accent);
            color: var(--accent);
            font-weight: 500;
        }
        .practice-nav .q-item.active {
            background: var(--accent);
            color: #fff;
            border-color: var(--accent);
        }
        .section-title {
            font-weight: bold;
            margin-right: 10px;
        }
        input[type="text"] {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 0 5px;
        }
        select {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="timer-container">
        Time remaining: <span id="timer">60:00</span>
    </div>

    <div class="shell">
        <section class="pane" id="left">
            <div class="tab-container">
                <div class="tab active" data-tab="passage1">Passage 1</div>
                <div class="tab" data-tab="passage2">Passage 2</div>
                <div class="tab" data-tab="passage3">Passage 3</div>
            </div>
            
            <div class="tab-content active" id="passage1">
                <h2>Listening to the Ocean</h2>
                <p><strong>A</strong> The oceans cover more than 70 per cent of the planet's surface, yet until quite recently we knew less about their depths than about the surface of the Moon. The Moon has been far more accessible to study because astronomers have long been able to look at its surface, first with the naked eye and then with the telescope, both instruments that focus light. Until the twentieth century, however, no instruments were available for the study of Earth's oceans: light, which can travel trillions of kilometres through the vast vacuum of space, cannot penetrate very far in seawater.</p>
                
                <p><strong>B</strong> It turns out that for penetrating water the best instrument is sound. Curious investigators have long been fascinated by sound and the way it travels in water. As early as 1490, the artist and scientist Leonardo da Vinci observed: 'If you cause your ship to stop and place the head of a long tube in the water and place the outer extremity to your ear, you will hear ships at a great distance from you.' It was not until 1826 that two scientists, Colladon and Sturm, accurately measured the speed of sound in water. Using a long tube to listen under water (as da Vinci had suggested), they recorded how fast the sound of a submerged bell travelled across Lake Geneva in Switzerland. What these investigators demonstrated was that water is an excellent medium for sound, transmitting it almost five times faster than its speed in air.</p>
                
                <p><strong>C</strong> A number of factors influence how far sound travels under water and how long it lasts, including particles, salinity, temperature and pressure. Particles in seawater can reflect, scatter and absorb certain frequencies of sound, just as certain wavelengths of light may be reflected, scattered and absorbed by specific types of particles in the atmosphere. In 1943, Maurice Ewing and J. L. Worzel conducted an experiment to test the theory that low-frequency waves, which are less vulnerable than higher frequencies to scattering and absorption, should be able to travel great distances, if the sound source is placed correctly. The researchers set off an underwater explosion and learned that it was detected easily by receivers 3,200 kilometres away. In analysing the results of this test, they discovered a kind of 'sound pipeline', known as the 'deep sound channel'. Sound introduced into this channel of water could travel thousands of kilometres with minimal loss of signal.</p>
                
                <p><strong>D</strong> The US Navy was quick to appreciate the usefulness of low-frequency sound and the deep sound channel. They developed the Sound Surveillance System (SOSUS), which involved underwater microphones, called hydrophones, that were placed on the ocean bottom and connected by cables to on-shore processing centres. It was Christopher Clark of Cornell University who soon realised that SOSUS could be used to listen to whales. Using a SOSUS receiver in the West Indies, he could hear whales that were 1,770 kilometres away.</p>
                
                <p><strong>E</strong> Whales are the biggest of Earth's creatures, yet these animals are also remarkably elusive. Scientists wishing to observe blue whales must simply wait in their ships for the whales to surface. A few whales have been tracked briefly in the wild in this way but not for very great distances, and much about them remains unknown. But by using SOSUS, scientists can track the whales and position them on a map. Moreover, they can track not just one whale at a time, but many creatures simultaneously. They can also learn to distinguish whale calls; researchers have detected changes in the calls of finback whales as the seasons change, and have found that blue whales in different regions of the Pacific Ocean have different calls.</p>
                
                <p><strong>F</strong> SOSUS has also proved instrumental in obtaining information crucial to our understanding of climate. The system has enabled researchers to begin making ocean-temperature measurements on a global scale, measurements that are key to understanding the workings of heat transfer between the ocean and the atmosphere. The ocean plays an enormous role in determining air temperature — the heat capacity in only the upper few metres of ocean is thought to be equal to all of the heat in the entire atmosphere. For sound waves travelling horizontally in the ocean, speed is largely a function of temperature. Thus, the travel time of a wave of sound between two points is a sensitive indicator of the average temperature along its path. Transmitting sound in numerous directions through the deep sound channel can give scientists measurements spanning vast areas of the globe. Thousands of sound paths in the ocean can be pieced together into a map of global ocean temperatures, and by repeating measurements along the same paths over time, scientists can track changes in temperature over months or years.</p>
                
                <p><strong>G</strong> Researchers are also using other acoustic techniques to monitor climate. Oceanographer Jeff Nystuen, for example, has explored the use of sound to measure rainfall over the ocean. Monitoring changing global rainfall patterns will contribute to understanding major climate change as well as the weather phenomenon known as El Niño. Since 1985, Nystuen has used hydrophones to listen to rain over the ocean, acoustically measuring not only the rainfall rate but also the rainfall type, ranging from drizzle to thunderstorms. By using the sound of rain under water as a 'natural' rain gauge, the measurement of rainfall over the oceans will become available to climatologists. In this way, modern society continues to benefit from the investigations of those who, like Leonardo da Vinci, pursued the answers to some basic questions of nature.</p>
            </div>
            
            <div class="tab-content" id="passage2">
                <h2>Bird Migration</h2>
                <p><strong>A</strong> Birds have many unique design features that enable them to perform such amazing feats of endurance. They are equipped with lightweight, hollow bones, intricately designed feathers providing both lift and thrust for rapid flight, navigation systems superior to any that man has developed, and an ingenious heat-conserving design that, among other things, concentrates all blood circulation beneath layers of warm, waterproof plumage, leaving them fit to face life in the harshest of climates. Their respiratory systems have to perform efficiently during sustained flights at altitude, so they have a system of extracting oxygen from their lungs that far exceeds that of any other animal. During the later stages of the summer breeding season, when food is plentiful, their bodies can accumulate considerable layers of fat, to provide sufficient energy for their long migratory flights.</p>
                
                <p><strong>B</strong> The fundamental reason that birds migrate is to find adequate food during the winter months when it is in short supply. This particularly applies to birds that breed in the temperate and Arctic regions of the Northern Hemisphere, where food is abundant during the short growing season. Many species can tolerate cold temperatures if food is plentiful, but when food is not available, they must migrate. However, intriguing questions remain.</p>
                
                <p><strong>C</strong> One puzzling fact is that many birds journey much further than would be necessary just to find food and good weather. Nobody knows, for instance, why British swallows, which could presumably survive equally well if they spent the winter in equatorial Africa, instead of flying several thousand miles further to their preferred winter home in South Africa's Cape Province. Another mystery involves the huge migrations performed by arctic terns and mudflat-feeding shorebirds that breed close to Polar Regions. In general, the further north a migrant species breeds, the further south it spends the winter. For arctic terns, this necessitates an annual round trip of 25,000 miles. Yet, en route to their final destination in far-flung southern latitudes, all these individuals overfly other areas of seemingly suitable habitat spanning two hemispheres. While we may not fully understand birds' reasons for going to particular places, we can marvel at their feats.</p>
                
                <p><strong>D</strong> One of the greatest mysteries is how young birds know how to find the traditional wintering areas without parental guidance. Very few adults migrate with juveniles in tow, and youngsters may even have little or no inkling of their parents' appearance. A familiar example is that of the cuckoo, which lays its eggs in another species' nest and never re-encounters its young. It is mind-boggling to consider that, once raised by its host species, the young cuckoo makes its way to ancestral wintering grounds in the tropics before returning single-handedly to northern Europe the next season to seek out a mate among its kind. The obvious implication is that it inherits from its parents an inbuilt route map and direction-finding capability, as well as a mental image of what another cuckoo looks like. Yet nobody has the slightest idea as to how this is possible.</p>
                
                <p><strong>E</strong> Mounting evidence has confirmed that birds use the positions of the sun and stars to obtain compass directions. They also seem to be able to detect the earth's magnetic field, probably due to having minute crystals of magnetite in the region of their brains. However, accurate navigation also requires an awareness of position and time, especially when lost. Experiments have shown that after being taken thousands of miles over an unfamiliar landmass, birds are still capable of returning rapidly to nest sites. Such phenomenal powers are the product of computing several sophisticated cues, including an inborn map of the night sky and the pull of the earth's magnetic field. How the birds use their 'instruments' remains unknown, but one thing is clear: they see the world with a superior sensory perception to ours. Most small birds migrate at night and take their direction from the position of the setting sun. However, as well as seeing the sun go down, they also seem to see the plane of polarized light caused by it, which calibrates their compass. Travelling at night provides other benefits. Daytime predators are avoided and the danger of dehydration due to flying for long periods in warm, sunlit skies is reduced. Furthermore, at night the air is generally cool and less turbulent and so conducive to sustained, stable flight.</p>
                
                <p><strong>F</strong> Nevertheless, all journeys involve considerable risk, and part of the skill in arriving safely is setting off at the right time. This means accurate weather forecasting and utilizing favourable winds. Birds are adept at both, and, in laboratory tests, some have been shown to detect the minute difference in barometric pressure between the floor and ceiling of a room. Often birds react to weather changes before there is any visible sign of them. Lapwings, which feed on grassland, flee west from the Netherlands to the British Isles, France, and Spain at the onset of a cold snap. When the ground surface freezes, the birds could starve. Yet they return to Holland ahead of a thaw, their arrival linked to a pressure change presaging an improvement in the weather.</p>
                
                <p><strong>G</strong> In one instance a Welsh Manx shearwater carried to America and released was back in its burrow on Skokholm Island, off the Pembrokeshire coast, one day before a letter announcing its release! Conversely, each autumn a small number of North American birds are blown across the Atlantic by fast-moving westerly tailwinds. Not only do they arrive safely in Europe, but, based on ringing evidence, some make it back to North America the following spring, after probably spending the winter with European migrants in sunny African climes.</p>
            </div>
            
            <div class="tab-content" id="passage3">
                <h2>Grimm's Fairy Tales</h2>
                <p><strong>A</strong> The Brothers Grimm, Jacob and Wilhelm, named their story collection Children's and Household Tales and published the first of its seven editions in Germany in 1812. The table of contents reads like an A-list of fairy-tale celebrities: Cinderella, Sleeping Beauty, Snow White, Little Red Riding Hood, Rapunzel, Rumpelstiltskin, Hansel and Gretel, the Frog King. Drawn mostly from oral narratives, the 210 stories in the Grimm's' collection represent an anthology of fairy tales, animal fables, rustic farces, and religious allegories that remain unrivalled to this day.</p>
                
                <p><strong>B</strong> Such lasting fame would have shocked the humble Grimms. During their lifetimes the collection sold modestly in Germany, at first only a few hundred copies a year. The early editions were not even aimed at children. The brothers initially refused to consider illustrations, and scholarly footnotes took up almost as much space as the tales themselves. Jacob and Wilhelm viewed themselves as patriotic folklorists, not as entertainers of children. They began their work at a time when Germany had been overrun by the French under Napoleon, who was intent on suppressing local culture. As young, workaholic scholars, single and sharing a cramped flat, the Brothers Grimm undertook the fairy-tale collection with the goal of serving the endangered oral tradition of Germany.</p>
                
                <p><strong>C</strong> For much of the 19th-century teachers, parents, and religious figures, particularly in the United States, deplored the Grimms' collection for its raw, uncivilized content. Offended adults objected to the gruesome punishments inflicted on the stories' villains. In the original "Snow White" the evil stepmother is forced to dance in red-hot iron shoes until she falls down dead. Even today some protective parents shy from the Grimms' tales because of their reputation for violence.</p>
                
                <p><strong>D</strong> Despite its sometimes rocky reception, Children's and Household Tales gradually took root with the public. The brothers had not foreseen that the appearance of their work would coincide with a great flowering of children's literature in Europe. English publishers led the way, issuing high-quality picture books such as Jack and the Beanstalk and handsome folktale collections, all to satisfy a newly literate audience seeking virtuous material for the nursery. Once the Brothers Grimm sighted this new public, they set about refining and softening their tales, which had originated centuries earlier as earthy peasant fare. In the Grimms' hands, cruel mothers became nasty stepmothers, unmarried lovers were made chaste, and the incestuous father was recast as the devil.</p>
                
                <p><strong>E</strong> In the 20th century, the Grimms' fairy tales have come to rule the bookshelves of children's bedrooms. The stories read like dreams come true: handsome lads and beautiful damsels, armed with magic, triumph over giants and witches and wild beasts. They outwit mean, selfish adults. Inevitably the boy and girl fall in love and live happily ever after. And parents keep reading because they approve of the finger-wagging lessons inserted into the stories: keep your promises, don't talk to strangers, work hard, obey your parents. According to the Grimms, the collection served as "a manual of manners".</p>
                
                <p><strong>F</strong> Altogether some 40 persons delivered tales to the Grimms. Many of the storytellers came to the Grimms' house in Kassel. The brothers particularly welcomed the visits of Dorothea Viehmann, a widow who walked to town to sell produce from her garden. An innkeeper's daughter, Viehmann had grown up listening to stories from travellers on the road to Frankfurt. Among her treasure was "Aschenputtel" -Cinderella. Marie Hassenpflug was a 20-year-old friend of their sister, Charlotte, from a well-bred, French-speaking family. Marie's wonderful stories blended motifs from the oral tradition and from Perrault's influential 1697 book, Tales of My Mother Goose, which contained elaborate versions of "Little Red Riding Hood", "Snow White", and "Sleeping Beauty", among others. Many of these had been adapted from earlier Italian tales.</p>
                
                <p><strong>G</strong> Given that the origins of many of the Grimm fairy tales reach throughout Europe and into the Middle East and Orient, the question must be asked: How German are the Grimm tales? Very, says scholar Heinz Rolleke. Love of the underdog, rustic simplicity, creative energy—these are Teutonic traits. The coarse texture of life during medieval times in Germany, when many of the tales entered the oral tradition, also coloured the narratives. Throughout Europe, children were often neglected and abandoned, like Hansel and Gretel. Accused witches were burned at the stake, like the evil mother-in-law in "The Six Swans". "The cruelty in the stories was not the Grimms' fantasy", Rolleke points out, "It reflected the law-and-order system of the old times".</p>
                
                <p><strong>H</strong> The editorial fingerprints left by the Grimms betray the specific values of 19th-century Christian, bourgeois German society. But that has not stopped the tales from being embraced by almost every culture and nationality in the world. What accounts for this widespread, enduring popularity? Bernhard Lauer points to the "universal style" of the writing, you have no concrete descriptions of the land, or the clothes, or the forest, or the castles. It makes the stories timeless and placeless. "The tales allow us to express 'our utopian longings'," says Jack Zipes of the University of Minnesota, whose 1987 translation of the complete fairy tales captures the rustic vigour of the original text. "They show a striving for happiness that none of us knows but that we sense is possible. We can identify with the heroes of the tales and become in our mind the masters and mistresses of our own destinies."</p>
                
                <p><strong>I</strong> Fairy tales provide a workout for the unconscious, psychoanalysts maintain. Bruno Bettelheim famously promoted the therapeutic value of the Grimms' stories, calling fairy tales the "great comforters". By confronting fears and phobias, symbolized by witches, heartless stepmothers, and hungry wolves, children find they can master their anxieties. Bettelheim's theory continues to be hotly debated. But most young readers aren't interested in exercising their unconsciousness. The Grimm tales, in fact, please in an infinite number of ways, something about them seems to mirror whatever moods or interests we bring to our reading of them. The flexibility of interpretation suits them for almost any time and any culture.</p>
            </div>
        </section>

        <div id="divider" title="Drag to resize"></div>

        <section class="pane" id="right">
            <div class="tab-container">
                <div class="tab active" data-tab="questions1" data-passage="passage1">Questions 1-13</div>
                <div class="tab" data-tab="questions2" data-passage="passage2">Questions 14-26</div>
                <div class="tab" data-tab="questions3" data-passage="passage3">Questions 27-40</div>
            </div>
            
            <div class="tab-content active" id="questions1">
                <h3>Questions 1–4</h3>
                <p>Do the following statements agree with the information given in Reading Passage 1?</p>
                <p>In boxes 1–4 on your answer sheet, write</p>
                <ul>
                    <li><strong>TRUE</strong> if the statement agrees with the information</li>
                    <li><strong>FALSE</strong> if the statement contradicts the information</li>
                    <li><strong>NOT GIVEN</strong> if there is no information on this</li>
                </ul>
                
                <div class="group">
                    <p>1 In the past, it was easier for scientists to study the Moon than the oceans.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q1" value="TRUE"> TRUE</label>
                            <label><input type="radio" name="q1" value="FALSE"> FALSE</label>
                            <label><input type="radio" name="q1" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>2 Techniques for investigating the Moon are the same as techniques for researching the ocean.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q2" value="TRUE"> TRUE</label>
                            <label><input type="radio" name="q2" value="FALSE"> FALSE</label>
                            <label><input type="radio" name="q2" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>3 Measuring temperature changes in the ocean using sound is more time-consuming than other methods.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q3" value="TRUE"> TRUE</label>
                            <label><input type="radio" name="q3" value="FALSE"> FALSE</label>
                            <label><input type="radio" name="q3" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>4 Hydrophones can distinguish different kinds of rain.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q4" value="TRUE"> TRUE</label>
                            <label><input type="radio" name="q4" value="FALSE"> FALSE</label>
                            <label><input type="radio" name="q4" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                </div>
                
                <h3>Questions 5–8</h3>
                <p>Reading Passage 1 has seven paragraphs, A–G.</p>
                <p>Which paragraph contains the following information?</p>
                <p>Write the correct letter, A–G, in boxes 5–8 on your answer sheet.</p>
                <p><strong>NB</strong> You may use any letter more than once.</p>
                
                <div class="group">
                    <p>5 examples of things that affect the distance sound can travel in water
                        <select name="q5">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                        </select>
                    </p>
                    <p>6 details of the connection between ocean temperatures and climate
                        <select name="q6">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                        </select>
                    </p>
                    <p>7 details of ways in which light and sound are similar
                        <select name="q7">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                        </select>
                    </p>
                    <p>8 a reference to a long-term study of different types of weather
                        <select name="q8">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                        </select>
                    </p>
                </div>
                
                <h3>Questions 9–13</h3>
                <p>Choose the correct letter, A, B, C or D.</p>
                <p>Write the correct letter in boxes 9–13 on your answer sheet.</p>
                
                <div class="group">
                    <p>9 According to the passage, who conducted research into the rate at which sound travels in water?
                        <div>
                            <label><input type="radio" name="q9" value="A"> A Leonardo da Vinci</label><br>
                            <label><input type="radio" name="q9" value="B"> B Colladon and Sturm</label><br>
                            <label><input type="radio" name="q9" value="C"> C Ewing and Worzel</label><br>
                            <label><input type="radio" name="q9" value="D"> D Jeff Nystuen</label>
                        </div>
                    </p>
                    <p>10 According to the passage, who conducted research into the distances certain types of sound waves travel in water?
                        <div>
                            <label><input type="radio" name="q10" value="A"> A Leonardo da Vinci</label><br>
                            <label><input type="radio" name="q10" value="B"> B Colladon and Sturm</label><br>
                            <label><input type="radio" name="q10" value="C"> C Ewing and Worzel</label><br>
                            <label><input type="radio" name="q10" value="D"> D Christopher Clark</label>
                        </div>
                    </p>
                    <p>11 SOSUS allows whale researchers to
                        <div>
                            <label><input type="radio" name="q11" value="A"> A follow a number of whales at the same time.</label><br>
                            <label><input type="radio" name="q11" value="B"> B protect whales as they migrate.</label><br>
                            <label><input type="radio" name="q11" value="C"> C imitate whale calls of different species.</label><br>
                            <label><input type="radio" name="q11" value="D"> D change the whales' direction of travel.</label>
                        </div>
                    </p>
                    <p>12 Finback whale calls change
                        <div>
                            <label><input type="radio" name="q12" value="A"> A when scientists track them.</label><br>
                            <label><input type="radio" name="q12" value="B"> B at different times of year.</label><br>
                            <label><input type="radio" name="q12" value="C"> C when whales communicate with other species.</label><br>
                            <label><input type="radio" name="q12" value="D"> D when whales come to the surface.</label>
                        </div>
                    </p>
                    <p>13 SOSUS allows scientists to
                        <div>
                            <label><input type="radio" name="q13" value="A"> A make accurate maps of the ocean floor.</label><br>
                            <label><input type="radio" name="q13" value="B"> B measure water-level changes.</label><br>
                            <label><input type="radio" name="q13" value="C"> C investigate ocean currents.</label><br>
                            <label><input type="radio" name="q13" value="D"> D measure variations in temperature.</label>
                        </div>
                    </p>
                </div>
            </div>
            
            <div class="tab-content" id="questions2">
                <h3>Questions 14–20</h3>
                <p>Reading Passage 2 has seven paragraphs, A–G.</p>
                <p>Choose the correct heading for each paragraph from the list of headings below.</p>
                <p>Write the correct number, i–x, in boxes 14–20 on your answer sheet.</p>
                
                <div class="group">
                    <p><strong>List of Headings</strong></p>
                    <p>i &nbsp; &nbsp; The best moment to migrate</p>
                    <p>ii &nbsp; The unexplained rejection of closer feeding grounds</p>
                    <p>iii &nbsp; The influence of weather on the migration route</p>
                    <p>iv &nbsp; Physical characteristics that allow birds to migrate</p>
                    <p>v &nbsp; The main reason why birds migrate</p>
                    <p>vi &nbsp; The best wintering grounds for birds</p>
                    <p>vii &nbsp; Research findings on how birds migrate</p>
                    <p>viii &nbsp; Successful migration despite the trouble of wind</p>
                    <p>ix &nbsp; The contrast between long-distance migration and short-distance migration</p>
                    <p>x &nbsp; Mysterious migration despite lack of teaching</p>
                    
                    <p>14 Paragraph <strong>A</strong> 
                        <div class="dropzone" data-target="q14"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>15 Paragraph <strong>B</strong> 
                        <div class="dropzone" data-target="q15"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>16 Paragraph <strong>C</strong> 
                        <div class="dropzone" data-target="q16"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>17 Paragraph <strong>D</strong> 
                        <div class="dropzone" data-target="q17"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>18 Paragraph <strong>E</strong> 
                        <div class="dropzone" data-target="q18"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>19 Paragraph <strong>F</strong> 
                        <div class="dropzone" data-target="q19"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    <p>20 Paragraph <strong>G</strong> 
                        <div class="dropzone" data-target="q20"><span class="droplabel">Drag answer here</span></div>
                    </p>
                    
                    <div class="cardpool">
                        <div class="card" draggable="true" data-value="i">i</div>
                        <div class="card" draggable="true" data-value="ii">ii</div>
                        <div class="card" draggable="true" data-value="iii">iii</div>
                        <div class="card" draggable="true" data-value="iv">iv</div>
                        <div class="card" draggable="true" data-value="v">v</div>
                        <div class="card" draggable="true" data-value="vi">vi</div>
                        <div class="card" draggable="true" data-value="vii">vii</div>
                        <div class="card" draggable="true" data-value="viii">viii</div>
                        <div class="card" draggable="true" data-value="ix">ix</div>
                        <div class="card" draggable="true" data-value="x">x</div>
                    </div>
                </div>
                
                <h3>Questions 21 and 22</h3>
                <p>Choose TWO letters, A–E.</p>
                <p>Write the correct letters in boxes 21 and 22 on your answer sheet.</p>
                <p>Which TWO of the following statements are true of bird migration?</p>
                
                <div class="group">
                    <p>
                        <label><input type="checkbox" name="q21" value="A"> A Birds often fly further than they need to.</label><br>
                        <label><input type="checkbox" name="q22" value="B"> B Birds travelling in family groups are safe.</label><br>
                        <label><input type="checkbox" name="q23" value="C"> C Birds flying at night need less water.</label><br>
                        <label><input type="checkbox" name="q24" value="D"> D Birds have much sharper eyesight than humans.</label><br>
                        <label><input type="checkbox" name="q25" value="E"> E Only shorebirds are resistant to strong winds.</label>
                    </p>
                </div>
                
                <h3>Questions 23–26</h3>
                <p>Complete the sentences below.</p>
                <p>Choose <strong>NO MORE THAN TWO WORDS</strong> from the passage for each answer.</p>
                <p>Write your answers in boxes 23–26 on your answer sheet.</p>
                
                <div class="group">
                    <p>23 It is a great mystery that young birds like cuckoos can find their wintering grounds without 
                    <input type="text" name="q23" style="width: 150px;">.</p>
                    <p>24 Evidence shows birds can tell directions like a 
                    <input type="text" name="q24" style="width: 150px;"> by observing the sun and the stars.</p>
                    <p>25 One advantage for birds flying at night is that they can avoid contact with 
                    <input type="text" name="q25" style="width: 150px;">.</p>
                    <p>26 Laboratory tests show that birds can detect weather without 
                    <input type="text" name="q26" style="width: 150px;"> signs.</p>
                </div>
            </div>
            
            <div class="tab-content" id="questions3">
                <h3>Questions 27–32</h3>
                <p>Do the following statements agree with the information given in Reading Passage 3?</p>
                <p>In boxes 27–32 on your answer sheet, write</p>
                <ul>
                    <li><strong>YES</strong> if the statement agrees with the claims of the writer</li>
                    <li><strong>NO</strong> if the statement contradicts the claims of the writer</li>
                    <li><strong>NOT GIVEN</strong> if it is impossible to say what the writer thinks about this</li>
                </ul>
                
                <div class="group">
                    <p>27 The Grimm brothers believed they would achieve international fame.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q27" value="YES"> YES</label>
                            <label><input type="radio" name="q27" value="NO"> NO</label>
                            <label><input type="radio" name="q27" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>28 The Grimm brothers were forced to work in secret.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q28" value="YES"> YES</label>
                            <label><input type="radio" name="q28" value="NO"> NO</label>
                            <label><input type="radio" name="q28" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>29 Some parents today still think Grimm fairy tales are not suitable for children.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q29" value="YES"> YES</label>
                            <label><input type="radio" name="q29" value="NO"> NO</label>
                            <label><input type="radio" name="q29" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>30 The first edition of Grimm's fairy tales sold more widely in England than in Germany.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q30" value="YES"> YES</label>
                            <label><input type="radio" name="q30" value="NO"> NO</label>
                            <label><input type="radio" name="q30" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>31 Adults like reading Grimm's fairy tales for reasons different from those of children.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q31" value="YES"> YES</label>
                            <label><input type="radio" name="q31" value="NO"> NO</label>
                            <label><input type="radio" name="q31" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                    <p>32 The Grimm brothers based the story "Cinderella" on the life of Dorothea Viehmann.
                        <div style="display: inline-block; margin-left: 10px;">
                            <label><input type="radio" name="q32" value="YES"> YES</label>
                            <label><input type="radio" name="q32" value="NO"> NO</label>
                            <label><input type="radio" name="q32" value="NOT GIVEN"> NOT GIVEN</label>
                        </div>
                    </p>
                </div>
                
                <h3>Questions 33–35</h3>
                <p>Choose the correct letter, A, B, C or D.</p>
                <p>Write the correct letter in boxes 33–35 on your answer sheet.</p>
                
                <div class="group">
                    <p>33 In paragraph D, what changes happened at that time in Europe?
                        <div>
                            <label><input type="radio" name="q33" value="A"> A Literacy levels of the population increased.</label><br>
                            <label><input type="radio" name="q33" value="B"> B The development of printing technology made it easier to publish.</label><br>
                            <label><input type="radio" name="q33" value="C"> C Schools were open to children.</label><br>
                            <label><input type="radio" name="q33" value="D"> D People were fond of collecting superb picture books.</label>
                        </div>
                    </p>
                    <p>34 What changes did the Grimm Brothers make in later editions?
                        <div>
                            <label><input type="radio" name="q34" value="A"> A They made the stories shorter.</label><br>
                            <label><input type="radio" name="q34" value="B"> B They used more oral language.</label><br>
                            <label><input type="radio" name="q34" value="C"> C The content of the tales became less violent.</label><br>
                            <label><input type="radio" name="q34" value="D"> D They found other origins of the tales.</label>
                        </div>
                    </p>
                    <p>35 What did Marie Hassenpflug contribute to the Grimm's Fairy tales?
                        <div>
                            <label><input type="radio" name="q35" value="A"> A She wrote stories.</label><br>
                            <label><input type="radio" name="q35" value="B"> B She discussed the stories with them.</label><br>
                            <label><input type="radio" name="q35" value="C"> C She translated a popular book for the brothers using her talent for languages.</label><br>
                            <label><input type="radio" name="q35" value="D"> D She told the oral stories that were based on traditional Italian stories.</label>
                        </div>
                    </p>
                </div>
                
                <h3>Questions 36–40</h3>
                <p>Complete each sentence with the correct ending, A–H below.</p>
                <p>Write the correct letter, A–H, in boxes 36–40 on your answer sheet</p>
                
                <div class="group">
                    <p>36 Heinz Rolleke said the Grimm's tales are "German" because some tales
                        <select name="q36">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </p>
                    <p>37 Heinz Rolleke said the abandoned children in tales
                        <select name="q37">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </p>
                    <p>38 Bernhard Lauer said the writing style of the Grimm brothers is universal because they
                        <select name="q38">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </p>
                    <p>39 Jack Zipes said the pursuit of happiness in the tales means they
                        <select name="q39">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </p>
                    <p>40 Bruno Bettelheim said the therapeutic value of the tales means that the fairy tales
                        <select name="q40">
                            <option value="">Choose...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="C">C</option>
                            <option value="D">D</option>
                            <option value="E">E</option>
                            <option value="F">F</option>
                            <option value="G">G</option>
                            <option value="H">H</option>
                        </select>
                    </p>
                    
                    <p><strong>List of endings</strong></p>
                    <p>A reflect what life was like at that time.</p>
                    <p>B help children deal with their problems.</p>
                    <p>C demonstrate the outdated system.</p>
                    <p>D tell of the simplicity of life in the German countryside.</p>
                    <p>E encourage people to believe that they can do anything.</p>
                    <p>F recognize the heroes in the real life.</p>
                    <p>G contribute to the belief in nature's power.</p>
                    <p>H avoid details about characters' social settings.</p>
                </div>
            </div>
            
            <div style="display:flex;gap:8px;margin:20px 0;">
                <button class="btn btn-primary" onclick="submitAnswers()">Submit Answers</button>
                <button class="btn" onclick="resetAnswers()">Reset Answers</button>
            </div>
        </section>
    </div>

    <div class="practice-nav">
        <span class="section-title">Passage 1:</span>
        <div class="q-item" onclick="scrollToQuestion('q1')">1</div>
        <div class="q-item" onclick="scrollToQuestion('q2')">2</div>
        <div class="q-item" onclick="scrollToQuestion('q3')">3</div>
        <div class="q-item" onclick="scrollToQuestion('q4')">4</div>
        <div class="q-item" onclick="scrollToQuestion('q5')">5</div>
        <div class="q-item" onclick="scrollToQuestion('q6')">6</div>
        <div class="q-item" onclick="scrollToQuestion('q7')">7</div>
        <div class="q-item" onclick="scrollToQuestion('q8')">8</div>
        <div class="q-item" onclick="scrollToQuestion('q9')">9</div>
        <div class="q-item" onclick="scrollToQuestion('q10')">10</div>
        <div class="q-item" onclick="scrollToQuestion('q11')">11</div>
        <div class="q-item" onclick="scrollToQuestion('q12')">12</div>
        <div class="q-item" onclick="scrollToQuestion('q13')">13</div>
        
        <span class="section-title">Passage 2:</span>
        <div class="q-item" onclick="scrollToQuestion('q14')">14</div>
        <div class="q-item" onclick="scrollToQuestion('q15')">15</div>
        <div class="q-item" onclick="scrollToQuestion('q16')">16</div>
        <div class="q-item" onclick="scrollToQuestion('q17')">17</div>
        <div class="q-item" onclick="scrollToQuestion('q18')">18</div>
        <div class="q-item" onclick="scrollToQuestion('q19')">19</div>
        <div class="q-item" onclick="scrollToQuestion('q20')">20</div>
        <div class="q-item" onclick="scrollToQuestion('q21')">21</div>
        <div class="q-item" onclick="scrollToQuestion('q22')">22</div>
        <div class="q-item" onclick="scrollToQuestion('q23')">23</div>
        <div class="q-item" onclick="scrollToQuestion('q24')">24</div>
        <div class="q-item" onclick="scrollToQuestion('q25')">25</div>
        <div class="q-item" onclick="scrollToQuestion('q26')">26</div>
        
        <span class="section-title">Passage 3:</span>
        <div class="q-item" onclick="scrollToQuestion('q27')">27</div>
        <div class="q-item" onclick="scrollToQuestion('q28')">28</div>
        <div class="q-item" onclick="scrollToQuestion('q29')">29</div>
        <div class="q-item" onclick="scrollToQuestion('q30')">30</div>
        <div class="q-item" onclick="scrollToQuestion('q31')">31</div>
        <div class="q-item" onclick="scrollToQuestion('q32')">32</div>
        <div class="q-item" onclick="scrollToQuestion('q33')">33</div>
        <div class="q-item" onclick="scrollToQuestion('q34')">34</div>
        <div class="q-item" onclick="scrollToQuestion('q35')">35</div>
        <div class="q-item" onclick="scrollToQuestion('q36')">36</div>
        <div class="q-item" onclick="scrollToQuestion('q37')">37</div>
        <div class="q-item" onclick="scrollToQuestion('q38')">38</div>
        <div class="q-item" onclick="scrollToQuestion('q39')">39</div>
        <div class="q-item" onclick="scrollToQuestion('q40')">40</div>
    </div>

    <div id="selbar">
        <button id="highlightBtn">高亮</button>
        <button id="removeHighlightBtn">取消高亮</button>
    </div>

    <script>
        // Timer functionality (60 minutes countdown)
        let totalTime = 60 * 60; // 60 minutes in seconds
        const timerEl = document.getElementById('timer');
        
        function updateTimer() {
            if (totalTime <= 0) {
                clearInterval(timerInterval);
                alert("Time is up! Submitting your answers.");
                submitAnswers();
                return;
            }
            
            const minutes = Math.floor(totalTime / 60);
            const seconds = totalTime % 60;
            timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            totalTime--;
        }
        
        const timerInterval = setInterval(updateTimer, 1000);
        updateTimer(); // Initial call
        
        // Tab switching functionality with synchronization
        function switchTabs(clickedTab, isRightTab = false) {
            const tabId = clickedTab.getAttribute('data-tab');
            
            if (isRightTab) {
                // If right tab was clicked, also switch the left tab
                const passageId = clickedTab.getAttribute('data-passage');
                const leftTab = document.querySelector(`.tab[data-tab="${passageId}"]`);
                if (leftTab) {
                    // Remove active class from all left tabs and contents
                    document.querySelectorAll('#left .tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('#left .tab-content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to corresponding left tab and content
                    leftTab.classList.add('active');
                    document.getElementById(passageId).classList.add('active');
                }
            }
            
            // Remove active class from all tabs and contents in the current container
            const container = clickedTab.closest('.tab-container');
            container.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            container.parentElement.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked tab and corresponding content
            clickedTab.classList.add('active');
            document.getElementById(tabId).classList.add('active');
        }
        
        // Set up tab click events
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const isRightTab = this.closest('#right') !== null;
                switchTabs(this, isRightTab);
            });
        });
        
        // Drag and drop functionality
        const cards = document.querySelectorAll('.card');
        const dropzones = document.querySelectorAll('.dropzone');
        
        cards.forEach(card => {
            card.addEventListener('dragstart', () => {
                card.classList.add('dragging');
            });
            
            card.addEventListener('dragend', () => {
                card.classList.remove('dragging');
            });
        });
        
        dropzones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('over');
            });
            
            zone.addEventListener('dragleave', () => {
                zone.classList.remove('over');
            });
            
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('over');
                
                const card = document.querySelector('.card.dragging');
                if (card) {
                    // Clear existing content
                    zone.innerHTML = '';
                    
                    // Create a clone of the card for the dropzone
                    const clone = card.cloneNode(true);
                    clone.setAttribute('draggable', 'false');
                    clone.classList.remove('dragging');
                    zone.appendChild(clone);
                    
                    // Mark the question as answered in the navigation
                    const questionId = zone.getAttribute('data-target');
                    const navItem = document.querySelector(`.q-item[onclick="scrollToQuestion('${questionId}')"]`);
                    if (navItem) {
                        navItem.classList.add('answered');
                    }
                }
            });
        });
        
        // Function to scroll to a specific question
        function scrollToQuestion(questionId) {
            const questionElement = document.querySelector(`[data-target="${questionId}"]`);
            if (questionElement) {
                questionElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Highlight the question briefly
                questionElement.style.backgroundColor = '#fff3a3';
                setTimeout(() => {
                    questionElement.style.backgroundColor = '';
                }, 1000);
            }
        }
        
        // Function to submit answers
        function submitAnswers() {
            alert("Answers submitted! This would normally be sent to a server for grading.");
            // In a real implementation, this would collect all answers and send them for evaluation
        }
        
        // Function to reset answers
        function resetAnswers() {
            if (confirm("Are you sure you want to reset all answers?")) {
                // Clear all dropzones
                document.querySelectorAll('.dropzone').forEach(zone => {
                    zone.innerHTML = '<span class="droplabel">Drag answer here</span>';
                });
                
                // Clear all radio buttons
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                
                // Clear all text inputs
                document.querySelectorAll('input[type="text"]').forEach(input => {
                    input.value = '';
                });
                
                // Clear all checkboxes
                document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                    checkbox.checked = false;
                });
                
                // Clear all select elements
                document.querySelectorAll('select').forEach(select => {
                    select.selectedIndex = 0;
                });
                
                // Remove answered status from navigation
                document.querySelectorAll('.q-item.answered').forEach(item => {
                    item.classList.remove('answered');
                });
            }
        }
        
        // Divider dragging functionality
        const divider = document.getElementById('divider');
        const leftPane = document.getElementById('left');
        const rightPane = document.getElementById('right');
        let isResizing = false;
        
        divider.addEventListener('mousedown', function(e) {
            isResizing = true;
            document.body.style.cursor = 'ew-resize';
            e.preventDefault();
        });
        
        document.addEventListener('mousemove', function(e) {
            if (!isResizing) return;
            
            const containerRect = document.querySelector('.shell').getBoundingClientRect();
            const xPosition = e.clientX - containerRect.left;
            
            // Set minimum widths for both panes
            const leftWidth = Math.max(280, Math.min(containerRect.width - 320, xPosition));
            const rightWidth = containerRect.width - leftWidth - 8; // 8px for the divider
            
            leftPane.style.flex = `0 0 ${leftWidth}px`;
            rightPane.style.flex = `1 1 ${rightWidth}px`;
        });
        
        document.addEventListener('mouseup', function() {
            isResizing = false;
            document.body.style.cursor = '';
        });

        // Highlight functionality
        const selbar = document.getElementById('selbar');
        const highlightBtn = document.getElementById('highlightBtn');
        const removeHighlightBtn = document.getElementById('removeHighlightBtn');
        let currentSelection = null;

        // Listen for text selection
        document.addEventListener('mouseup', function(e) {
            const selection = window.getSelection();
            const selectedText = selection.toString().trim();
            
            if (selectedText.length > 0 && !e.target.closest('#selbar')) {
                currentSelection = selection;
                
                // Position the toolbar near the selection
                const range = selection.getRangeAt(0);
                const rect = range.getBoundingClientRect();
                
                selbar.style.display = 'flex';
                selbar.style.top = (rect.top + window.scrollY - 40) + 'px';
                selbar.style.left = (rect.left + window.scrollX) + 'px';
            } else if (!e.target.closest('#selbar')) {
                selbar.style.display = 'none';
            }
        });

        // Highlight button functionality
        highlightBtn.addEventListener('click', function() {
            if (currentSelection && !currentSelection.isCollapsed) {
                const range = currentSelection.getRangeAt(0);
                const selectedText = range.toString();
                
                // Create highlight span
                const span = document.createElement('span');
                span.className = 'hl';
                span.textContent = selectedText;
                
                // Replace selected text with highlighted span
                range.deleteContents();
                range.insertNode(span);
                
                // Clear selection and hide toolbar
                window.getSelection().removeAllRanges();
                selbar.style.display = 'none';
            }
        });

        // Remove highlight button functionality
        removeHighlightBtn.addEventListener('click', function() {
            if (currentSelection && !currentSelection.isCollapsed) {
                const range = currentSelection.getRangeAt(0);
                
                // Find if the selection contains highlighted text
                let parent = range.startContainer.parentNode;
                while (parent && parent !== document.body) {
                    if (parent.classList && parent.classList.contains('hl')) {
                        // Replace the highlighted span with just its text content
                        const text = document.createTextNode(parent.textContent);
                        parent.parentNode.replaceChild(text, parent);
                        
                        // Clear selection and hide toolbar
                        window.getSelection().removeAllRanges();
                        selbar.style.display = 'none';
                        return;
                    }
                    parent = parent.parentNode;
                }
                
                // If no highlight found, just clear selection
                window.getSelection().removeAllRanges();
                selbar.style.display = 'none';
            }
        });

        // Hide toolbar when clicking elsewhere
        document.addEventListener('mousedown', function(e) {
            if (!e.target.closest('#selbar') && selbar.style.display === 'flex') {
                selbar.style.display = 'none';
            }
        });
    </script>
</body>
</html>